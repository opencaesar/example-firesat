<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="http://docbook.org/xml/5.1/rng/docbook.rng" schematypens="http://relaxng.org/ns/structure/1.0"?>
<?xml-model href="http://docbook.org/xml/5.1/sch/docbook.sch" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron"?>
<chapter xmlns="http://docbook.org/ns/docbook"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    xmlns:oc="https://opencaesar.github.io/" version="5.1">
    <title>Subsystem and Assemblies</title>
    <para>The FireSat system is composed of multiple subsystems. These subsystems have a mass
        constraint, and are the aggregate of multiple assemblies. These assemblies also have a 
        mass constraint that must be met, and some assemblies contain multiple base 
        assemblies put together.</para>
    <oc:table title="Subsystems" frame="subsystem.frame" bodyColor="#BFDFBF">
        <oc:column name="Acronym" target="num"/>
        <oc:column name="Subsystem" target="subsystem" link="_systemIri_"/>
        <oc:column name="Mass" target="mass"/>
        <oc:interleaveTable frame="sub_assembly.frame" filter="subsystem=_subsystem_"
            bodyColor="white">
            <oc:column name="acronym" target="assemNum"/>
            <oc:column name="assembly" target="assembly" link="_assemblyIri_"/>
            <oc:column name="mass" target="assemblyMass"/>
        </oc:interleaveTable>
    </oc:table>
    <oc:section title="_subsystem_" frame="subsystem.frame" id="_systemIri_">
        <oc:var name="subsystem" target="subsystem"/>
        <oc:var name="systemDesc" target="desc"/>
        <oc:var name="subMass" target="mass"/>
        <oc:var name="systemIri" target="systemIri"/>
        <oc:var name="subNum" target="num"/>
        <para>_systemDesc_</para>
        <para>The mass constraint of _subsystem_ (_subNum_) is _subMass_.</para>
        <oc:section title="_assembly_" frame="sub_assembly.frame" id="_iri_" filter="s = _systemIri_">
            <oc:var name="assembly" target="assembly"/>
            <oc:var name="mass" target="assemblyMass"/>
            <oc:var name="desc" target="assemDesc"/>
            <oc:var name="iri" target="assemblyIri"/>
            <para>_desc_</para>
            <para>The mass of _assembly_ is _mass_.</para>
            <oc:table title="_assembly_ Contained Assemblies" frame="base.frame" 
                filter="assembly=_assembly_">
                <oc:column name="Assembly" target="sub" link="_subIri_"/>
                <oc:column name="Mass" target="subMass"/>
            </oc:table>
        </oc:section>
    </oc:section>
</chapter>
